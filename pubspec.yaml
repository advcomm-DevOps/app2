name: xdoc_workspace
publish_to: none
environment:
  sdk: ^3.9.2

workspace:
  - apps/xdoc
  - packages/mtds

melos:
  scripts:
    get:
      description: Run `flutter pub get` in all packages
      run: melos exec -- "flutter pub get"

    test:
      description: Run tests in all packages
      run: melos exec -- "flutter test"

    clean:
      description: Clean all build artifacts
      run: melos exec -- "flutter clean"

    build_runner:
      description: Run build_runner in mtds package
      run: melos exec --dir=packages/mtds -- "dart run build_runner build --delete-conflicting-outputs"

    build_runner_watch:
      description: Run build_runner in watch mode for mtds package
      run: melos exec --dir=packages/mtds -- "dart run build_runner watch --delete-conflicting-outputs"

    analyze:
      description: Run dart analyze in all packages
      run: melos exec -- "dart analyze"

    format:
      description: Format code in all packages
      run: melos exec -- "dart format ."
dev_dependencies:
  melos: ^3.4.0
